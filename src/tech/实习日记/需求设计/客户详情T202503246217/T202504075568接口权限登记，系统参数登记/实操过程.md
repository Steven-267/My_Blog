---
icon: pen-to-square
date: 2025-4-18
category:
- 后端
tag:
- 实习
---
# 实操过程

http://10.20.28.151:8170/#/kyp/Kyp2024SysMenuList

这个商智管理系统登记接口权限

分为新版和旧版 

- `/wealth/custview/getRiskAssessment`

- `/wealth/custview/getQualifiedInvestor`

  这里填登记新老版本的接口权限
  
  

请求路径搜索，对应上

![image-20250408140555401](/Users/xiaoxu/Library/Application Support/typora-user-images/image-20250408140555401.png)

![image-20250408141014902](/Users/xiaoxu/Library/Application Support/typora-user-images/image-20250408141014902.png)

![image-20250408141326520](/Users/xiaoxu/Library/Application Support/typora-user-images/image-20250408141326520.png)

导出sql

DELETE FROM sys_subtrans WHERE trans_code = 'AssetAllocationList' AND sub_trans_code = 'AssetAllocationList.getRiskAssessment';
INSERT INTO sys_subtrans (id, trans_code, sub_trans_code, sub_trans_name, sys_permission, rel_url, ctrl_flag, login_flag, remark, prd_right_flag) VALUES ('972ff374d2d64f5888c87d703f822ce4', 'AssetAllocationList', 'AssetAllocationList.getRiskAssessment', '客户KYC 风评问卷查询', '2', '/wealth/custview/getRiskAssessment', '0', '1', ' ', '0');
COMMIT;





DELETE FROM sys_subtrans WHERE trans_code = 'AssetAllocationList' AND sub_trans_code = 'AssetAllocationList.getQualifiedInvestor';
INSERT INTO sys_subtrans (id, trans_code, sub_trans_code, sub_trans_name, sys_permission, rel_url, ctrl_flag, login_flag, remark, prd_right_flag) VALUES ('faafb4deadb645a3a1edc989ade0771e', 'AssetAllocationList', 'AssetAllocationList.getQualifiedInvestor', '客户KYC 合格投资者权限查询', '2', '/pic/wealth/custview/getQualifiedInvestor', '0', '1', ' ', '0');
COMMIT;

# 登记系统参数

![image-20250408142007073](/Users/xiaoxu/Library/Application Support/typora-user-images/image-20250408142007073.png)

规划建议书

![image-20250408142438490](/Users/xiaoxu/Library/Application Support/typora-user-images/image-20250408142438490.png)

持仓分析

![image-20250408142548868](/Users/xiaoxu/Library/Application Support/typora-user-images/image-20250408142548868.png)

历史诊断报告

![image-20250408142826739](/Users/xiaoxu/Library/Application Support/typora-user-images/image-20250408142826739.png)

![image-20250408143053508](/Users/xiaoxu/Library/Application Support/typora-user-images/image-20250408143053508.png)

客户kyp

![image-20250408143236134](/Users/xiaoxu/Library/Application Support/typora-user-images/image-20250408143236134.png)

![image-20250408143413446](/Users/xiaoxu/Library/Application Support/typora-user-images/image-20250408143413446.png)

360视图

![image-20250408143606871](/Users/xiaoxu/Library/Application Support/typora-user-images/image-20250408143606871.png)

sql

DELETE FROM sys_param WHERE param_id = 'CUST_INFO_SHOW_QUOTA' AND tenant_code = 'default';
INSERT INTO sys_param (id, tenant_code, param_id, param_name, param_value, value_name, allow_modi, module, belong_type, reserve1) VALUES ('1909496306139717634', 'default', 'CUST_INFO_SHOW_QUOTA', '财富规划是否开启360视图', '0', '0关闭1开启', '1', 'WEALTH', '3', ' ');
DELETE FROM sys_param WHERE param_id = 'CUST_INFO_SHOW_QUOTA' AND tenant_code = 'GXZQKYP';
INSERT INTO sys_param (id, tenant_code, param_id, param_name, param_value, value_name, allow_modi, module, belong_type, reserve1) VALUES ('1909496740854161409', 'GXZQKYP', 'CUST_INFO_SHOW_QUOTA', '财富规划是否开启360视图', '1', '0开启1关闭', '1', 'WEALTH', '3', ' ');
COMMIT;



DELETE FROM sys_param WHERE param_id = 'CUST_INFO_SHOW_KYC' AND tenant_code = 'default';
INSERT INTO sys_param (id, tenant_code, param_id, param_name, param_value, value_name, allow_modi, module, belong_type, reserve1) VALUES ('1909495366779199490', 'default', 'CUST_INFO_SHOW_KYC', '财富规划是否显示客户KYC', '0', '0关闭 1开启', '1', 'WEALTH', '3', ' ');
DELETE FROM sys_param WHERE param_id = 'CUST_INFO_SHOW_KYC' AND tenant_code = 'GXZQKYP';
INSERT INTO sys_param (id, tenant_code, param_id, param_name, param_value, value_name, allow_modi, module, belong_type, reserve1) VALUES ('1909495868673810434', 'GXZQKYP', 'CUST_INFO_SHOW_KYC', '财富规划是否显示客户KYC', '1', '0关闭 1开启', '1', 'WEALTH', '3', ' ');
COMMIT;



DELETE FROM sys_param WHERE param_id = 'CUST_INFO_SHOW_ ACCOUNT' AND tenant_code = 'GXZQKYP';
INSERT INTO sys_param (id, tenant_code, param_id, param_name, param_value, value_name, allow_modi, module, belong_type, reserve1) VALUES ('1909494388600397826', 'GXZQKYP', 'CUST_INFO_SHOW_ ACCOUNT', '财富规划是否展示历史诊断报告', '1', '0关闭 1开启', '1', 'WEALTH', '3', ' ');
DELETE FROM sys_param WHERE param_id = 'CUST_INFO_SHOW_ ACCOUNT' AND tenant_code = 'default';
INSERT INTO sys_param (id, tenant_code, param_id, param_name, param_value, value_name, allow_modi, module, belong_type, reserve1) VALUES ('1909494981733703681', 'default', 'CUST_INFO_SHOW_ ACCOUNT', '财富规划是否展示历史诊断报告', '0', '0关闭 1开启', '1', 'WEALTH', '3', ' ');
COMMIT;



效能平台![image-20250409161725331](/Users/xiaoxu/Library/Application Support/typora-user-images/image-20250409161725331.png)





getCustQuota增加返回字段

outAssetMoney ,outAssetNum

![image-20250410130955457](/Users/xiaoxu/Library/Application Support/typora-user-images/image-20250410130955457.png)

![image-20250410145747787](/Users/xiaoxu/Library/Application Support/typora-user-images/image-20250410145747787.png)

修改res返回和dto

![image-20250410161533433](/Users/xiaoxu/Library/Application Support/typora-user-images/image-20250410161533433.png)

![image-20250410161549240](/Users/xiaoxu/Library/Application Support/typora-user-images/image-20250410161549240.png)

![image-20250410161614453](/Users/xiaoxu/Library/Application Support/typora-user-images/image-20250410161614453.png)

WEALTH_SHOW_EXT_SHARES这个系统参数给下1

CUS_INFO_EXT_BUTTON_LOCATION这个给下2

CUS_INFO_PAGE_TOP_DISPALY_STYLE这个给0



开启系统参数让前端联调

![image-20250411092757003](/Users/xiaoxu/Library/Application Support/typora-user-images/image-20250411092757003.png)



系统参数放入代码

![image-20250411112246936](/Users/xiaoxu/Library/Application Support/typora-user-images/image-20250411112246936.png)



![image-20250411142927937](/Users/xiaoxu/Library/Application Support/typora-user-images/image-20250411142927937.png)
